pipeline:
  name: "standard_train"
  description: "Standard training pipeline: load -> preprocess -> train -> evaluate -> log"

  steps:
    # Step 1: Load data từ source được định nghĩa trong experiment config
    - id: "load_data"
      type: "data_loader"
      enabled: true

    # Step 2: Preprocessing - fit và transform data
    - id: "preprocess"
      type: "preprocessor"
      enabled: true
      depends_on: ["load_data"]
      is_train: true  # Fit preprocessor trên training data

    # Step 3: Train model
    - id: "train_model"
      type: "trainer"
      enabled: true
      depends_on: ["preprocess"]

    # Step 4: Evaluate model
    - id: "evaluate"
      type: "evaluator"
      enabled: true
      depends_on: ["train_model"]
      model_step_id: "train_model"

    # Step 5: Log to MLflow
    - id: "log_results"
      type: "logger"
      enabled: true
      depends_on: ["train_model", "evaluate"]
      model_step_id: "train_model"
      eval_step_id: "evaluate"
