# Evaluation Pipeline Configuration
# Loads trained model and evaluates without retraining

pipeline:
  name: "eval_pipeline"

  steps:
    # Step 1: Load data (test/validation set)
    - id: "load_data"
      type: "data_loader"
      enabled: true
      depends_on: []

    # Step 2: Load saved preprocessor and transform
    - id: "preprocess"
      type: "preprocessor"
      enabled: true
      depends_on: ["load_data"]
      # NOTE: Preprocessor will load from artifacts_dir specified
      # in the experiment config's preprocessing section

    # Step 3: Load trained model from disk
    - id: "load_model"
      type: "model_loader"
      enabled: true
      depends_on: []
      model_path: "mlproject/artifacts/models/xgboost_best.pkl"

    # Step 4: Evaluate model performance
    - id: "evaluate"
      type: "evaluator"
      enabled: true
      depends_on: ["load_model", "preprocess"]
      model_step_id: "load_model"

    # Step 5: Log evaluation results
    - id: "log_results"
      type: "logger"
      enabled: true
      depends_on: ["evaluate"]
      eval_step_id: "evaluate"
      # NOTE: model_step_id can be omitted if only logging metrics
